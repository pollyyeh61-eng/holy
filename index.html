<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>活力美髮學堂 | 品牌中心</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&family=Noto+Sans+TC:wght@300;400&display=swap');

        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Noto Serif TC', serif; overflow: hidden; }
        
        .app-container {
            display: flex; height: 100vh;
            background: white linear-gradient(105deg, #fff 0%, #fff 25%, #fceae6 40%, #fbc2eb 60%, #a1c4fd 85%, #c2e9fb 100%);
            background-attachment: fixed;
        }

        #content-target { flex: 1; height: 100vh; overflow-y: auto; scrollbar-width: none; transition: opacity 0.4s ease; }
        #content-target::-webkit-scrollbar { display: none; }

        /* --- 電腦版側邊欄 --- */
        .nav-sidebar {
            width: 400px; height: 100vh; display: flex; flex-direction: column; justify-content: center;
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(25px); 
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-item, .sub-item { cursor: pointer; transition: all 0.3s ease; display: flex; justify-content: space-between; align-items: baseline; }
        .nav-item { padding: 16px 60px; color: #322b5f; font-size: 1.1rem; letter-spacing: 3px; }
        .nav-item.active { border-left: 7px solid #6c5ce7; background: rgba(255, 255, 255, 0.4); }
        .sub-nav-container { max-height: 0; overflow: hidden; transition: max-height 0.6s ease; background: rgba(108, 92, 231, 0.03); }
        .nav-group.expanded .sub-nav-container { max-height: 600px; }
        .sub-item { padding: 10px 60px 10px 85px; font-size: 0.95rem; opacity: 0.6; }
        .sub-item.active { color: #6c5ce7; opacity: 1; border-left: 4px solid #6c5ce7; }

        /* --- 手機版專用導航 --- */
        .mobile-nav { display: none; background: rgba(255, 255, 255, 0.6); backdrop-filter: blur(15px); z-index: 2000; }
        .mobile-nav-list { display: flex; justify-content: space-around; padding: 10px 0; list-style: none; margin: 0; border-bottom: 1px solid rgba(0,0,0,0.05); }
        .mobile-nav-list div { font-size: 0.85rem; color: #322b5f; padding: 5px 10px; cursor: pointer; }
        .mobile-nav-list .active { color: #6c5ce7; font-weight: 700; border-bottom: 2px solid #6c5ce7; }

        /* --- RWD 切換邏輯 --- */
        @media (max-width: 768px) {
            .app-container { flex-direction: column; }
            .nav-sidebar { display: none; } /* 手機隱藏側邊欄 */
            .mobile-nav { display: block; } /* 手機顯示上下欄 */
            #content-target { height: calc(100vh - 120px); } /* 扣除上下欄高度 */
        }
    </style>
</head>
<body>

    <div class="app-container">
        <nav class="mobile-nav" id="mobile-top">
            <div class="mobile-nav-list">
                <div onclick="loadPage('p1.html', this)">首頁</div>
                <div onclick="loadPage('p2.html', this)">品牌白皮書</div>
                <div onclick="toggleMobileCourse()">專業課程</div>
                <div onclick="loadPage('p4.html', this)">美髮書坊</div>
            </div>
        </nav>

        <main id="content-target"></main>

        <nav class="mobile-nav" id="mobile-bottom">
            <div class="mobile-nav-list">
                <div onclick="loadPage('p5.html', this)">募資課程</div>
                <div onclick="loadPage('p6.html', this)">授權合作</div>
                <div onclick="loadPage('p7.html', this)">常見問題</div>
                <div onclick="loadPage('about.html', this)">關於我</div>
            </div>
        </nav>

        <nav class="nav-sidebar">
            <div class="nav-box">
                <div onclick="loadPage('p1.html', this)" class="nav-item"><span>首頁</span><span class="nav-page-num">P. 01</span></div>
                <div onclick="loadPage('p2.html', this)" class="nav-item"><span>品牌白皮書</span><span class="nav-page-num">P. 02</span></div>
                <div class="nav-group" id="group-p3">
                    <div onclick="toggleSubNav('group-p3', 'p3.html', this)" class="nav-item"><span>專業課程</span><span class="nav-page-num">P. 03</span></div>
                    <div class="sub-nav-container">
                        <div onclick="loadPage('p3_1.html', this)" class="sub-item">二年制專班</div>
                        <div onclick="loadPage('p3_2.html', this)" class="sub-item">剪髮課程</div>
                        <div onclick="loadPage('p3_3.html', this)" class="sub-item">燙髮課程</div>
                        <div onclick="loadPage('p3_4.html', this)" class="sub-item">染髮課程</div>
                        <div onclick="loadPage('p3_5.html', this)" class="sub-item">講師課程</div>
                        <div onclick="loadPage('p3_6.html', this)" class="sub-item">創業課程</div>
                        <div onclick="loadPage('p3_7.html', this)" class="sub-item">寫書課程</div>
                    </div>
                </div>
                <div onclick="loadPage('p4.html', this)" class="nav-item"><span>美髮書坊</span><span class="nav-page-num">P. 04</span></div>
                <div onclick="loadPage('p5.html', this)" class="nav-item"><span>募資課程</span><span class="nav-page-num">P. 05</span></div>
                <div onclick="loadPage('p6.html', this)" class="nav-item"><span>授權合作</span><span class="nav-page-num">P. 06</span></div>
                <div onclick="loadPage('p7.html', this)" class="nav-item"><span>常見問題</span><span class="nav-page-num">P. 07</span></div>
            </div>
        </nav>
    </div>

    <script>
        async function loadPage(url, element) {
            const target = document.getElementById('content-target');
            document.querySelectorAll('.nav-item, .sub-item, .mobile-nav-list div').forEach(el => el.classList.remove('active'));
            if(element) element.classList.add('active');

            target.style.opacity = 0;
            try {
                const response = await fetch(url);
                const html = await response.text();
                setTimeout(() => {
                    target.innerHTML = html;
                    target.style.opacity = 1;
                    target.scrollTop = 0;
                }, 300);
            } catch (err) {
                target.innerHTML = "<div style='padding:50px;'>讀取中...</div>";
                target.style.opacity = 1;
            }
        }

        function toggleSubNav(groupId, url, element) {
            const group = document.getElementById(groupId);
            group.classList.toggle('expanded');
            loadPage(url, element);
        }

        // 手機版課程按鈕：可以直接跳到 P3 總覽頁
        function toggleMobileCourse() {
            loadPage('p3.html');
            // 如果手機版需要顯示子選單，可以再加一個彈窗或展開清單
        }

        window.onload = () => loadPage('p1.html', document.querySelector('.nav-item'));
    </script>
</body>
</html>
